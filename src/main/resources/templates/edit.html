<!DOCTYPE html>
<html lang="en">
<head>
    <head th:insert="~{fragments :: head}"></head>
    <title th:text="${pageTitle}"></title>
</head>
<body>
<header th:insert="~{fragments :: mainHeader}"></header>

<main class="main">
    <div class="container">
            <div class="bg-light mb-lg-5">
                <article class="card-body mx-auto" style="max-width: 400px;">
                    <h4 class="card-title py-3 text-center">Profile edit form</h4>
                    <p th:if="${param.error}" class="alert alert-danger mb-5">Update operation failed.</p>
                    <form method="post" th:action="@{/profile/edit}" th:object="${request}">
                        <div class="form-group mb-3">
                            <label for="firstName">First Name</label>
                            <input type="text"
                                   name="firstName"
                                   class="form-control"
                                   id="firstName"
                                   placeholder="Enter your first name"
                                   th:field="*{firstName}"
                            >
                        </div>
                        <div class="form-group mb-3">
                            <label for="lastName">Last Name</label>
                            <input type="text"
                                   class="form-control"
                                   name="lastName"
                                   id="lastName"
                                   placeholder="Enter your last name"
                                   th:field="*{lastName}"
                            >
                        </div>
                        <div class="form-group mb-3">
                            <label for="phoneNumber">Phone Number</label>
                            <input type="text"
                                   class="form-control"
                                   name="phoneNumber"
                                   id="phoneNumber"
                                   placeholder="Enter your phone number"
                                   th:field="*{phoneNumber}"
                            >
                        </div>
                        <div class="form-group mb-3">
                            <label for="dateOfBirth">Date of Birth</label>
                            <input type="date"
                                   class="form-control"
                                   id="dateOfBirth"
                                   name="dateOfBirth"
                                   th:field="*{dateOfBirth}"
                            >
                        </div>
                        <button type="submit" class="btn btn-primary mb-3">Update</button>
                    </form>
                </article>
            </div>
        <div class="bg-light">
            <article class="card-body mx-auto" style="max-width: 400px;">
                <h4 class="card-title py-3 text-center">Change password</h4>
                <p th:if="${param.passwordMismatch}" class="alert alert-danger mb-5">Password change operation failed.</p>
                <p th:if="${param.passwordError}" class="alert alert-danger mb-5">Password change operation failed.</p>
                <form method="post" th:action="@{/profile/change-password}" th:object="${passwordRequest}">
                    <div class="form-group input-group mb-4">
                        <input class="form-control" placeholder="Current password" type="password" th:field="*{currentPassword}">
                    </div>
                    <div class="form-group input-group mb-4">
                        <input class="form-control" placeholder="New password" type="password" th:field="*{newPassword}">
                    </div>
                    <div class="form-group input-group mb-4">
                        <input class="form-control" placeholder="Repeat new password" type="password" th:field="*{matchingPassword}">
                    </div>
                    <div class="form-group pb-4 w-100">
                        <button type="submit" class="btn btn-primary">Change password</button>
                    </div>
                </form>
            </article>
        </div>
    </div>
</main>

</body>
</html>